<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesan Tiket</title>
</head>
<body>
    <div class="cons">
        <img src="img/background_pesan.png" class="bg_pesan">
        <div class="boxs">
            <div class="boxxs">
                <h1 class="pesan-title">Cari Tiket</h1>
                <p class="pesan-sub">Atur jadwal keberangkatan anda!</p>
            </div>
            <div class="bbox">
                <form action="">
                    <div class="row">
                        <div class="terminal-asal">
                            <p>Terminal Asal</p>
                            <select name="asal" id="asal"></select>
                        </div>

                        <div class="terminal-tujuan">
                            <p>Terminal Tujuan</p>
                            <select name="tujuan" id="tujuan"></select>
                        </div>
                    </div>
                    
                    <div class="row2">
                        <div class="tanggal-berangkat">
                            <p>Tanggal Keberangkatan</p>
                            <select name="tanggal" id="tanggal"></select>
                        </div>
            
                        <div class="jam-berangkat">
                            <p>Jam Keberangkatan</p>
                            <select name="jam" id="jam"></select>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('get_data.php')
                .then(response => response.json())
                .then(data => {
                    const asalSelect = document.getElementById('asal');
                    const tujuanSelect = document.getElementById('tujuan');
                    const tanggalSelect = document.getElementById('tanggal');
                    const jamSelect = document.getElementById('jam');

                    // Isi terminal asal dan tujuan
                    data.terminals.forEach(terminal => {
                        const option = document.createElement('option');
                        option.value = terminal.id;
                        option.textContent = terminal.nama_terminal;
                        asalSelect.appendChild(option.cloneNode(true));
                        tujuanSelect.appendChild(option);
                    });

                    // Isi tanggal dan jam keberangkatan
                    data.jadwals.forEach(jadwal => {
                        const tanggalOption = document.createElement('option');
                        tanggalOption.value = jadwal.id;
                        tanggalOption.textContent = jadwal.tanggal;
                        tanggalSelect.appendChild(tanggalOption);

                        const jamOption = document.createElement('option');
                        jamOption.value = jadwal.id;
                        jamOption.textContent = jadwal.jam;
                        jamSelect.appendChild(jamOption);
                    });
                })
                .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>
